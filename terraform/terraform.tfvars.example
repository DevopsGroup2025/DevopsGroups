# =============================================================================
# Terraform Variables Example
# =============================================================================
# Copy this file to terraform.tfvars and update with your values
# State is stored LOCALLY (no remote backend) in terraform.tfstate
# =============================================================================

# AWS Configuration
aws_region = "eu-west-1"

# Project Configuration
project_name = "terraform-ansible-webapp"
environment  = "dev"
managed_by   = "DevOps Team"

# VPC Configuration
vpc_cidr             = "10.0.0.0/16"
public_subnet_cidrs  = ["10.0.1.0/24", "10.0.2.0/24"]
private_subnet_cidrs = ["10.0.10.0/24", "10.0.11.0/24"]
vpc_azs_count        = 2
enable_nat_gateway   = true  # Required for private instances to access ECR/internet
single_nat_gateway   = true  # Use single NAT to save costs in dev
enable_vpc_flow_logs = false

# EC2 Configuration
instance_type              = "t3.micro"
bastion_instance_type      = "t3.micro"  # Bastion/Load Balancer instance
root_volume_size           = 8
root_volume_type           = "gp3"
enable_ebs_encryption      = true
enable_detailed_monitoring = false

# Security Configuration
ssh_cidr_blocks         = ["0.0.0.0/0"]  # Legacy - use bastion_ssh_cidr_blocks
bastion_ssh_cidr_blocks = ["0.0.0.0/0"]  # Restrict to your IP in production: ["YOUR_IP/32"]
http_cidr_blocks        = ["0.0.0.0/0"]
https_cidr_blocks       = ["0.0.0.0/0"]
enable_https            = false

# SSH Configuration
ssh_user        = "ec2-user"
key_name_prefix = "terraform-ansible-webapp-key"

# Database Configuration
db_name                    = "notesdb"
db_username                = "dbadmin"
db_password                = "CHANGE_ME_secure_password_123!"  # Change this!
db_instance_class          = "db.t3.micro"
db_allocated_storage       = 20
db_multi_az                = false
db_backup_retention_period = 7
db_backup_window           = "03:00-04:00"
db_maintenance_window      = "sun:04:00-sun:05:00"
enable_rds_encryption      = true
enable_rds_monitoring      = false

# ECR Configuration
ecr_repository_names = ["backend", "frontend", "proxy"]
ecr_max_image_count  = 10

# IAM/SSM Configuration
enable_ssm_access = true  # Enable Session Manager for secure access
